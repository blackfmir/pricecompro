{% extends "base.html" %}{% block content %}
<h1 class="text-xl font-semibold mb-3">Suppliers</h1>

{% if request.query_params.get('msg') %}
  <div class="mb-3 bg-green-50 border border-green-200 text-green-800 px-3 py-2 rounded">{{ request.query_params.get('msg') }}</div>
{% endif %}
{% if request.query_params.get('err') %}
  <div class="mb-3 bg-red-50 border border-red-200 text-red-800 px-3 py-2 rounded">{{ request.query_params.get('err') }}</div>
{% endif %}

<form method="post" class="bg-white p-3 rounded-xl shadow mb-4 flex gap-2">
  <input name="name" placeholder="Name" class="border px-3 py-2 rounded w-48" required>
  <!-- code приховано; якщо треба — додай поле -->
  <label class="inline-flex items-center gap-2"><input type="checkbox" name="active" checked> Active</label>
  <button class="px-4 py-2 bg-blue-600 text-white rounded">Add</button>
</form>

<table class="w-full bg-white rounded-xl shadow overflow-hidden">
  <thead class="bg-slate-100">
    <tr>
      <th class="text-left p-2">ID</th>
      <th class="text-left p-2">Name</th>
      <th class="text-left p-2">Active</th>
      <th class="text-left p-2">Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for s in items %}
    <tr class="border-t">
      <td class="p-2">{{ s.id }}</td>
      <td class="p-2">{{ s.name }}</td>
      <td class="p-2">{{ "Yes" if s.active else "No" }}</td>
      <td class="p-2 flex gap-2">
        <a class="px-3 py-1 bg-slate-700 text-white rounded" href="/ui/suppliers/{{ s.id }}/edit">Edit</a>
        <form method="post" action="/ui/suppliers/{{ s.id }}/delete" onsubmit="return confirm('Delete supplier? Allowed only if no price lists.');">
          <button class="px-3 py-1 bg-red-600 text-white rounded">Delete</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
